"use strict";(self.webpackChunkcrudApp=self.webpackChunkcrudApp||[]).push([[553],{8553:(y,m,u)=>{u.r(m),u.d(m,{ProductosModule:()=>P});var l=u(6895),r=u(433),i=u(4154),t=u(8256),b=u(7556);let h=(()=>{class e{constructor(o,a){this.router=o,this.authService=a}get usuario(){return this.authService.usuario}logout(){this.router.navigateByUrl("/auth"),this.authService.logout()}}return e.\u0275fac=function(o){return new(o||e)(t.Y36(i.F0),t.Y36(b.e))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-main"]],decls:24,vars:1,consts:[[1,"navbar","navbar-expand-md","navbar-dark","bg-dark"],[1,"container-fluid"],[1,"navbar-brand"],[1,"text-danger"],["type","button","data-bs-toggle","collapse","data-bs-target","#menu","aria-controls","navbarSupportedContent","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","menu",1,"collapse","navbar-collapse"],[1,"navbar-nav","me-auto"],[1,"nav-item"],["aria-current","page","routerLink","./agregar",1,"nav-link","active"],["routerLink","./listado",1,"nav-link","active"],[1,"d-md-none","text-white-50"],[1,"d-flex"],["type","button","disabled","",1,"btn","btn-secondary"],["type","submit",1,"btn","btn-secondary",3,"click"]],template:function(o,a){1&o&&(t.TgZ(0,"nav",0)(1,"div",1)(2,"a",2)(3,"span",3),t._uU(4,"Crud Angular"),t.qZA()(),t.TgZ(5,"button",4),t._UZ(6,"span",5),t.qZA(),t.TgZ(7,"div",6)(8,"ul",7)(9,"li",8)(10,"a",9),t._uU(11,"Agregar Producto"),t.qZA()(),t.TgZ(12,"li",8)(13,"a",10),t._uU(14,"Listado de Productos"),t.qZA()()(),t._UZ(15,"hr",11),t.TgZ(16,"form",12)(17,"button",13),t._uU(18),t.qZA(),t._uU(19," \xa0 "),t.TgZ(20,"button",14),t.NdJ("click",function(){return a.logout()}),t._uU(21,"Salir"),t.qZA()()()()(),t.TgZ(22,"div",1),t._UZ(23,"router-outlet"),t.qZA()),2&o&&(t.xp6(18),t.Oqu(a.usuario.name))},dependencies:[r._Y,r.JL,i.lC,i.yS],encapsulation:2}),e})();var v=u(5226),g=u.n(v),Z=u(2340),f=u(529);let d=(()=>{class e{constructor(o){this.http=o,this.API=Z.N.baseUrl}addNewProducto(o){return this.http.post(`${this.API}/productos`,o)}getProductos(){return this.http.get(`${this.API}/productos`)}getProductoPorId(o){return this.http.get(`${this.API}/productos/${o}`)}updateProducto(o){return this.http.put(`${this.API}/productos/${o._id}`,o)}deleteProducto(o){return this.http.delete(`${this.API}/productos/${o}`)}}return e.\u0275fac=function(o){return new(o||e)(t.LFG(f.eN))},e.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function _(e,n){if(1&e){const o=t.EpF();t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.qZA(),t.TgZ(7,"td"),t._uU(8),t.qZA(),t.TgZ(9,"td")(10,"button",7),t.O4$(),t.TgZ(11,"svg",8),t._UZ(12,"path",9)(13,"path",10),t.qZA()(),t._uU(14," | "),t.kcU(),t.TgZ(15,"button",11),t.NdJ("click",function(){const s=t.CHM(o).$implicit,p=t.oxw(2);return t.KtG(p.borrar(s._id))}),t.O4$(),t.TgZ(16,"svg",12),t._UZ(17,"path",13),t.qZA()()()()}if(2&e){const o=n.$implicit;t.xp6(2),t.hij(" ",null==o?null:o._id," "),t.xp6(2),t.hij(" ",o.name," "),t.xp6(2),t.hij(" ",o.categoria," "),t.xp6(2),t.hij(" ",o.precio," "),t.xp6(2),t.MGl("routerLink","/productos/editar/",null==o?null:o._id,"")}}function T(e,n){if(1&e&&(t.TgZ(0,"table",4)(1,"thead",5)(2,"tr")(3,"th"),t._uU(4,"ID"),t.qZA(),t.TgZ(5,"th"),t._uU(6,"Nombre"),t.qZA(),t.TgZ(7,"th"),t._uU(8,"Producto"),t.qZA(),t.TgZ(9,"th"),t._uU(10,"Precio"),t.qZA(),t.TgZ(11,"th"),t._uU(12,"Acciones"),t.qZA()()(),t.TgZ(13,"tbody"),t.YNc(14,_,18,5,"tr",6),t.qZA()()),2&e){const o=t.oxw();t.xp6(14),t.Q6J("ngForOf",o.productos)}}function U(e,n){1&e&&(t.TgZ(0,"h3",14),t._uU(1,"No hay producto disponible"),t.qZA())}const C=[{path:"",component:h,children:[{path:"agregar",component:(()=>{class e{constructor(o,a,c){this.fb=o,this.productosService=a,this.router=c,this.miFormulario=this.fb.group({name:[,[r.kI.required]],categoria:[""],precio:[,[r.kI.required]]})}guardar(){this.productosService.addNewProducto(this.miFormulario.value).subscribe(),g().fire({icon:"success",title:"Producto Registrado",showConfirmButton:!1,timer:1500}),this.router.navigateByUrl("productos/listado")}}return e.\u0275fac=function(o){return new(o||e)(t.Y36(r.qu),t.Y36(d),t.Y36(i.F0))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-agregar"]],decls:33,vars:2,consts:[[1,"card"],[1,"card-header"],[1,"card-body"],["autocomplete","off",3,"formGroup","ngSubmit"],[1,"mb-3"],["for","",1,"form-label"],["type","text","formControlName","name","placeholder","Escribe el producto",1,"form-control"],[1,"form-label"],["formControlName","categoria",1,"form-select"],["value",""],["value","Bebidas"],["value","Tecnologia"],["value","Ropa"],["value","Musica"],["type","number","formControlName","precio",1,"form-control"],["type","submit",1,"btn","btn-primary",3,"disabled","click"],["type","button","routerLink","../listado",1,"btn","btn-danger"]],template:function(o,a){1&o&&(t.TgZ(0,"div",0)(1,"div",1),t._uU(2," Agregar Producto "),t.qZA(),t.TgZ(3,"div",2)(4,"form",3),t.NdJ("ngSubmit",function(){return a.guardar()}),t.TgZ(5,"div",4)(6,"label",5),t._uU(7,"Nombre del Producto:"),t.qZA(),t._UZ(8,"input",6),t.qZA(),t.TgZ(9,"div",4)(10,"label",7),t._uU(11,"Categoria"),t.qZA(),t.TgZ(12,"select",8)(13,"option",9),t._uU(14,"Selecciona una categoria"),t.qZA(),t.TgZ(15,"option",10),t._uU(16,"Bebidas"),t.qZA(),t.TgZ(17,"option",11),t._uU(18,"Tecnologia"),t.qZA(),t.TgZ(19,"option",12),t._uU(20,"Ropa"),t.qZA(),t.TgZ(21,"option",13),t._uU(22,"Musica"),t.qZA()()(),t.TgZ(23,"div",4)(24,"label",5),t._uU(25,"Precio"),t.qZA(),t._UZ(26,"input",14),t.qZA(),t.TgZ(27,"div",4)(28,"button",15),t.NdJ("click",function(){return a.guardar()}),t._uU(29,"Agregar"),t.qZA(),t._uU(30," \xa0 "),t.TgZ(31,"button",16),t._uU(32,"Cancelar"),t.qZA()()()()()),2&o&&(t.xp6(4),t.Q6J("formGroup",a.miFormulario),t.xp6(24),t.Q6J("disabled",a.miFormulario.invalid))},dependencies:[r._Y,r.YN,r.Kr,r.Fj,r.wV,r.EJ,r.JJ,r.JL,r.sg,r.u,i.rH],encapsulation:2}),e})()},{path:"listado",component:(()=>{class e{constructor(o,a){this.productosService=o,this.router=a,this.productos=[]}ngOnInit(){this.productosService.getProductos().subscribe(o=>this.productos=o)}borrar(o){this.productosService.deleteProducto(o).subscribe(a=>{this.router.navigateByUrl("/RefrshComponent",{skipLocationChange:!0}).then(()=>this.router.navigate(["productos/listado"]))})}}return e.\u0275fac=function(o){return new(o||e)(t.Y36(d),t.Y36(i.F0))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-listar"]],decls:7,vars:2,consts:[[1,"card-header"],[1,"table-responsive"],["class","table table-hover",4,"ngIf"],["style","text-align:center;margin: top 10px;",4,"ngIf"],[1,"table","table-hover"],[1,"table-dark"],[4,"ngFor","ngForOf"],["type","button",1,"btn","btn-info",3,"routerLink"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-pencil-square"],["d","M15.502 1.94a.5.5 0 0 1 0 .706L14.459 3.69l-2-2L13.502.646a.5.5 0 0 1 .707 0l1.293 1.293zm-1.75 2.456-2-2L4.939 9.21a.5.5 0 0 0-.121.196l-.805 2.414a.25.25 0 0 0 .316.316l2.414-.805a.5.5 0 0 0 .196-.12l6.813-6.814z"],["fill-rule","evenodd","d","M1 13.5A1.5 1.5 0 0 0 2.5 15h11a1.5 1.5 0 0 0 1.5-1.5v-6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-.5.5h-11a.5.5 0 0 1-.5-.5v-11a.5.5 0 0 1 .5-.5H9a.5.5 0 0 0 0-1H2.5A1.5 1.5 0 0 0 1 2.5v11z"],["type","button",1,"btn","btn-danger",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-trash-fill"],["d","M2.5 1a1 1 0 0 0-1 1v1a1 1 0 0 0 1 1H3v9a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2V4h.5a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1H10a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1H2.5zm3 4a.5.5 0 0 1 .5.5v7a.5.5 0 0 1-1 0v-7a.5.5 0 0 1 .5-.5zM8 5a.5.5 0 0 1 .5.5v7a.5.5 0 0 1-1 0v-7A.5.5 0 0 1 8 5zm3 .5v7a.5.5 0 0 1-1 0v-7a.5.5 0 0 1 1 0z"],[2,"text-align","center","margin","top 10px"]],template:function(o,a){1&o&&(t.TgZ(0,"div")(1,"div",0)(2,"h2"),t._uU(3,"Productos"),t.qZA()(),t.TgZ(4,"div",1),t.YNc(5,T,15,1,"table",2),t.YNc(6,U,2,0,"h3",3),t.qZA()()),2&o&&(t.xp6(5),t.Q6J("ngIf",a.productos.length>0),t.xp6(1),t.Q6J("ngIf",0==a.productos.length))},dependencies:[l.sg,l.O5,i.rH],encapsulation:2}),e})()},{path:"editar/:_id",component:(()=>{class e{constructor(o,a,c,s){this.fb=o,this.productosServices=a,this.activatedRoute=c,this.router=s,this.miFormulario=this.fb.group({name:[,[r.kI.required]],categoria:[],precio:[,[r.kI.required]]})}ngOnInit(){this.activatedRoute.params.subscribe(({_id:o})=>this.cargarProducto(o))}cargarProducto(o){this.productosServices.getProductoPorId(o).subscribe(a=>{this.producto=a;const{name:c,categoria:s,precio:p}=a;this.miFormulario.setValue({name:c,categoria:s,precio:p})})}editarProducto(){const o={...this.miFormulario.value,_id:this.producto._id};this.productosServices.updateProducto(o).subscribe(a=>{g().fire({icon:"success",title:"Actualizado con exito!",showConfirmButton:!1,timer:1500}),this.router.navigateByUrl("productos/listado")})}}return e.\u0275fac=function(o){return new(o||e)(t.Y36(r.qu),t.Y36(d),t.Y36(i.gz),t.Y36(i.F0))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-editar"]],decls:33,vars:2,consts:[[1,"card"],[1,"card-header"],[1,"card-body"],["autocomplete","off",3,"formGroup","ngSubmit"],[1,"mb-3"],["for","",1,"form-label"],["type","text","formControlName","name","placeholder","Escribe el producto",1,"form-control"],[1,"form-label"],["formControlName","categoria",1,"form-select"],["value",""],["value","Bebidas"],["value","Tecnologia"],["value","Ropa"],["value","Musica"],["type","number","formControlName","precio",1,"form-control"],["type","submit",1,"btn","btn-primary",3,"disabled","click"],["type","button","routerLink","/productos/listado",1,"btn","btn-danger"]],template:function(o,a){1&o&&(t.TgZ(0,"div",0)(1,"div",1),t._uU(2," Editar Producto "),t.qZA(),t.TgZ(3,"div",2)(4,"form",3),t.NdJ("ngSubmit",function(){return a.editarProducto()}),t.TgZ(5,"div",4)(6,"label",5),t._uU(7,"Nombre del Producto:"),t.qZA(),t._UZ(8,"input",6),t.qZA(),t.TgZ(9,"div",4)(10,"label",7),t._uU(11,"Categoria"),t.qZA(),t.TgZ(12,"select",8)(13,"option",9),t._uU(14,"Selecciona una categoria"),t.qZA(),t.TgZ(15,"option",10),t._uU(16,"Bebidas"),t.qZA(),t.TgZ(17,"option",11),t._uU(18,"Tecnologia"),t.qZA(),t.TgZ(19,"option",12),t._uU(20,"Ropa"),t.qZA(),t.TgZ(21,"option",13),t._uU(22,"Musica"),t.qZA()()(),t.TgZ(23,"div",4)(24,"label",5),t._uU(25,"Precio"),t.qZA(),t._UZ(26,"input",14),t.qZA(),t.TgZ(27,"div",4)(28,"button",15),t.NdJ("click",function(){return a.editarProducto()}),t._uU(29,"Modificar"),t.qZA(),t._uU(30," \xa0 "),t.TgZ(31,"button",16),t._uU(32,"Cancelar"),t.qZA()()()()()),2&o&&(t.xp6(4),t.Q6J("formGroup",a.miFormulario),t.xp6(24),t.Q6J("disabled",a.miFormulario.invalid))},dependencies:[r._Y,r.YN,r.Kr,r.Fj,r.wV,r.EJ,r.JJ,r.JL,r.sg,r.u,i.rH],encapsulation:2}),e})()}]}];let q=(()=>{class e{}return e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[i.Bz.forChild(C),i.Bz]}),e})(),P=(()=>{class e{}return e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[l.ez,r.UX,q]}),e})()}}]);